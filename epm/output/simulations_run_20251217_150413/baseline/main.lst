GAMS 50.1.0  12b75dde Jun 18, 2025          WEX-WEI x86 64bit/MS Windows - 12/17/25 15:04:17 Page 1
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
C o m p i l a t i o n


   1  **********************************************************************
   2  * ELECTRICITY PLANNING MODEL (EPM)
   3  * Developed at the World Bank
   4  **********************************************************************
   5  * Description:
   6  * This GAMS-based model is designed for electricity system planning,
   7  * incorporating capacity expansion, generation dispatch, and policy
   8  * constraints such as renewable energy targets, emissions reductions,
   9  * and market mechanisms.
  10  *
  11  * Author(s): ESMAP Modelling Team
  12  * Organization: World Bank
  13  * Version:
  14  * License: Creative Commons Zero v1.0 Universal
  15  *
  16  * Key Features:
  17  * - Optimization of electricity generation and capacity planning
  18  * - Inclusion of renewable energy integration and storage technologies
  19  * - Multi-period, multi-region modeling framework
  20  * - CO2 emissions constraints and policy instruments
  21  *
  22  * Notes:
  23  * - Ensure GAMS is installed before running this model.
  24  * - The model requires input data in .GDX or Excel format.
  25  *
  26  * Contact:
  27  * Claire Nicolas, cnicolas@worldbank.org
  28  **********************************************************************
  29   
  34   
  37   
  38  * Turn on/off additional information to the listing file
  39  option limRow=0, limCol=0, sysOut=off, solPrint=off;
  42   
  43  *-------------------------------------------------------------------------------------
  44   
  45  * Useful for Python import
  47   
  48  *-------------------------------------------------------------------------------------
  49   
  50  * Folder input
  53   
  54  *-------------------------------------------------------------------------------------
  55   
  56  * By default modeltype is MIP
  60   
  61  * Use the relevant cplex file
  64   
  68   
  69  * Define modeltype-related options
  70  Scalar
  71     modeltypeThreads 'Number of threads available to the modeltypes' /1/
  72     modeltypeOptCR   'Relative gap for MIP modeltype'                /0.05/
  73     modeltypeResLim  'modeltype time limit'                          /300000/
  74  ;
  75  Singleton Set
  76     NLPmodeltype 'Selected NLP modeltype' / '' 'conopt4' /
  77     MIPmodeltype 'Selected MIP modeltype' / '' 'cplex' /
  78  ;
  79   
  80  * Evaluate and assign modeltype settings as macros
  86   
  87  * Apply modeltype settings to GAMS execution
  88  option NLP=conopt4, MIP=cplex, threads=1, optCR=0.05, resLim=300000;
  89   
  90  *-------------------------------------------------------------------------------------
  91   
  92  * Only include base if we don't restart
  95   
  97   
 101   
 102   
 106   
 107   
 111   
 112   
 116   
 117  *-------------------------------------------------------------------------------------
 118   
 119  * Core domain sets loaded from external files
 120  Sets
 121     g        'Generators or technology-fuel types'
 122     f        'Fuels'
 123     tech     'Technologies'
 124     y        'Planning years'
 125     q        'Seasonal blocks (quarters)'
 126     d        'Representative days'
 127     t        'Hours of day'
 128     z        'System zones'
 129     c        'Countries'
 130     zext     'External trading zones'
 131     AT       'Full-year hourly chronology' /AT1*AT8760/
 132     pGenDataInputHeader 'Generator data input headers'
 133     pSettingsHeader
 134     pStorageDataHeader                                        'Storage data headers'
 135     pCSPDataHeader       'CSP data headers'                 / 'Storage', 'Thermal Field' /
 136     pTransmissionHeader  'Transmission data headers'
 137     pH2Header            'Hydrogen data headers'
 138     pTechDataHeader      'Technology data headers'
 139     pe                   'Peak/energy tags for demand'      / 'peak', 'energy' /
 140     hh                   'Hydrogen production units'
 141  ;
 142   
 143   
 144  * Relationship sets derived from the inputs
 145  Sets
 146     zcmap(z<,c<) 'Zone-to-country mapping'
 147     gmap(g,z,tech,f) 'Generator-to-zone/technology/fuel mapping'
 148     sRelevant(d) 'Days where minimum generation limits apply'
 149     mapTS(q,d,t,AT) 'Mapping from season/day/hour tuples to chronological AT index'
 150  ;
 151   
 152  alias (z,z2), (g,g1,g2);
 153   
 154  * Input data parameters
 155  Parameter
 156  * Generator data
 157     pTechData(tech<,pTechDataHeader<)                     'Technology specifications'
 158     pGenDataInput(g<,z,tech,f<,pGenDataInputHeader)       'Generator data from Excel input'
 159     pGenDataInputDefault(z,tech,f,pGenDataInputHeader)    'Default generator data by zone/tech/fuel'
 160     pCapexTrajectoriesDefault(z,tech,f,y)                 'Default CAPEX trajectories'
 161     pCapexTrajectories(g,y)                               'Generator CAPEX trajectories'
 162     pAvailabilityDefault(z,tech,f,q)                      'Default availability factors'
 163   
 164  * Storage data
 165     pStorageDataInput(g,*,pStorageDataHeader)                 'Storage unit specifications'
 166   
 167  * CSP and technology data
 168     pCSPData(g,pCSPDataHeader,pStorageDataHeader)           'Concentrated solar power data'
 169   
 170  * Fuel data
 171     pFuelCarbonContent(f)                                 'Carbon content by fuel (tCO2/MMBtu)'
 172     pMaxFuellimit(c,f,y)                                  'Fuel limit in MMBTU*1e6 (million) by country'
 173     pFuelPrice(c,f,y)                                     'Fuel price forecasts'
 174   
 175  * Storage and transmission
 176     pNewTransmission(z,z2,pTransmissionHeader)           'New transmission line specifications'
 177     pStorageDataTemp(g,g2,pStorageDataHeader)             'Temporary storage data for processing'
 178   
 179  * Trade parameters
 180     pTradePrice(zext,q,d,y,t)                             'External trade prices'
 181     pMaxAnnualExternalTradeShare(y,c)                     'Maximum trade share by country'
 182   
 183  * Demand parameters
 184     pDemandProfile(z,q,d,t)                               'Normalized demand profiles'
 185     pDemandForecast(z,pe,y)                               'Peak/energy demand forecasts (MW/GWh)'
 186     pDemandData(z,q,d,y,t)                                'Hourly load curves'
 187   
 188  * Emissions and carbon
 189     pEmissionsCountry(c,y)                                'Country emission limits (tons)'
 190     pEmissionsTotal(y)                                    'System-wide emission limits (tons)'
 191     pCarbonPrice(y)                                       'Carbon price (USD/ton CO2)'
 192   
 193  * Time and transfer parameters
 194     pHours(q<,d<,t<)                                      'Hours mapping'
 195     pDays(q)                                              'Number of days represented by each period'
 196     pTransferLimit(z,z2,q,y)                              'Inter-zonal transfer limits'
 197     pMinImport(z2,z,y)                                    'Minimum import requirements'
 198     pLossFactorInternal(z,z2,y)                           'Transmission loss factors'
 199   
 200  * VRE and availability
 201     pVREProfile(z,tech,q,d,t)                             'VRE generation profiles by site'
 202     pVREgenProfile(g,q,d,t)                               'VRE generation profiles by plant'
 203     pAvailabilityInput(g,q)                              'Seasonal availability factors (from CSV, no year)'
 204     pAvailability(g,y,q)                                  'Seasonal availability factors (expanded to years)'
 205     pEvolutionAvailability(g,y)                           'Year-dependent availability evolution factors'
 206   
 207  * Reserve requirements
 208     pSpinningReserveReqCountry(c,y)                       'Country spinning reserve requirements'
 209     pSpinningReserveReqSystem(y)                          'System spinning reserve requirements'
 210     pPlanningReserveMargin(c)                             'Planning reserve margins'
 211   
 212  * Other parameters
 213     pSettings(pSettingsHeader)                            'Model settings and penalties'
 214     pEnergyEfficiencyFactor(z,y)                          'Energy efficiency adjustment factors'
 215     pExtTransferLimit(z,zext,q,*,y)                       'External transfer limits'
 216   
 217  * Hydrogen parameters
 218     pH2DataExcel(hh<,pH2Header)                           'Hydrogen data from Excel'
 219     pAvailabilityH2(hh,q)                                 'H2 plant availability'
 220     pFuelDataH2(f)                                        'Hydrogen fuel properties'
 221     pCapexTrajectoryH2(hh,y)                              'H2 CAPEX trajectories'
 222     pExternalH2(z,q,y)                                    'External H2 demand (MMBtu) to be met'
 223   
 224     ftfindex(f)                                           'Fuel-to-fuel index mapping'
 225  ;
 226   
 227   
 228  * Add to pGenDataInputHeader the headers that are optional for users but necessary for the model
 229   
 230   
 232  *-------------------------------------------------------------------------------------
 233  * Read inputs
 234   
 235  * Include the external reader file defined by the macro variable %READER_FILE%
INCLUDE    C:\Users\wb590499\Documents\Projects\EPM\epm\input_readers.gms
 237  **********************************************************************
 238  * ELECTRICITY PLANNING MODEL (EPM)
 239  * Developed at the World Bank
 240  **********************************************************************
 241  * Description:
 242  * This GAMS-based model is designed for electricity system planning,
 243  * incorporating capacity expansion, generation dispatch, and policy
 244  * constraints such as renewable energy targets, emissions reductions,
 245  * and market mechanisms.
 246  *
 247  * Author(s): ESMAP Modelling Team
 248  * Organization: World Bank
 249  * Version:
 250  * License: Creative Commons Zero v1.0 Universal
 251  *
 252  * Key Features:
 253  * - Optimization of electricity generation and capacity planning
 254  * - Inclusion of renewable energy integration and storage technologies
 255  * - Multi-period, multi-region modeling framework
 256  * - CO2 emissions constraints and policy instruments
 257  *
 258  * Notes:
 259  * - Ensure GAMS is installed before running this model.
 260  * - The model requires input data in .GDX.
 261  *
 262  * Contact:
 263  * Claire Nicolas, cnicolas@worldbank.org
 264  **********************************************************************
 265   
 266   
 268   
 269  * Define by default path
 270  * SETTINGS
 277   
 278  * LOAD DATA
 284   
 285  * SUPPLY DATA
 296   
 297  * OTHER SUPPLY OPTIONS
 300   
 301  * RESOURCES
 306   
 310   
 311  * RESERVE
 315   
 316  * TRADE
 327   
 328  * CONSTRAINT
 333   
 334  * H2 RELATED
 341   
 342   
 344   
 873  $offEmbeddedCode
****                $865
**** LINE    637 INCLUDE     C:\Users\wb590499\Documents\Projects\EPM\epm\input_readers.gms
**** LINE    246 INPUT       C:\Users\wb590499\Documents\Projects\EPM\epm\main.gms
**** 865  Problem in embedded code section
 874   
 875  * Open the specified GDX input file for reading
**** File: C:\Users\wb590499\Documents\Projects\EPM\epm\output\simulations_run_20251217_150413\baseline\input.gdx
**** Msg : No such file or directory
 876  $gdxIn input.gdx
****                 $510
**** LINE    249 INPUT       C:\Users\wb590499\Documents\Projects\EPM\epm\main.gms
**** 510  Unable to open gdx file for $GDXIN
 877   
 878  * Load domain-defining symbols (sets and indices)
 879  $load zcmap pSettingsHeader y pHours pDays mapTS
****      $502
**** LINE    252 INPUT       C:\Users\wb590499\Documents\Projects\EPM\epm\main.gms
**** 502  GDXIN  file not open - ignore rest of line
 880  $load pGenDataInputHeader, pTechData, pStorageDataHeader,
****      $502
**** LINE    253 INPUT       C:\Users\wb590499\Documents\Projects\EPM\epm\main.gms
**** 502  GDXIN  file not open - ignore rest of line
 881  $load pGenDataInput gmap
****      $502
**** LINE    254 INPUT       C:\Users\wb590499\Documents\Projects\EPM\epm\main.gms
**** 502  GDXIN  file not open - ignore rest of line
 882  $load pGenDataInputDefault pAvailabilityDefault pCapexTrajectoriesDefault
****      $502
**** LINE    255 INPUT       C:\Users\wb590499\Documents\Projects\EPM\epm\main.gms
**** 502  GDXIN  file not open - ignore rest of line
 883  $load ftfindex
****      $502
**** LINE    256 INPUT       C:\Users\wb590499\Documents\Projects\EPM\epm\main.gms
**** 502  GDXIN  file not open - ignore rest of line
 884  $load pSettings
****      $502
**** LINE    257 INPUT       C:\Users\wb590499\Documents\Projects\EPM\epm\main.gms
**** 502  GDXIN  file not open - ignore rest of line
 885   
 886  * Load demand data
 887  $load pDemandData pDemandForecast pDemandProfile pEnergyEfficiencyFactor sRelevant
****      $502
**** LINE    260 INPUT       C:\Users\wb590499\Documents\Projects\EPM\epm\main.gms
**** 502  GDXIN  file not open - ignore rest of line
 888   
 889  $load pFuelCarbonContent pCarbonPrice pEmissionsCountry pEmissionsTotal pFuelPrice
****      $502
**** LINE    262 INPUT       C:\Users\wb590499\Documents\Projects\EPM\epm\main.gms
**** 502  GDXIN  file not open - ignore rest of line
 890   
 891  * Load constraints and technical data
 892  $load pMaxFuellimit pTransferLimit pLossFactorInternal pVREProfile pVREgenProfile pAvailabilityInput pEvolutionAvailability
****      $502
**** LINE    265 INPUT       C:\Users\wb590499\Documents\Projects\EPM\epm\main.gms
**** 502  GDXIN  file not open - ignore rest of line
 893  $load pStorageDataInput pCSPData pCapexTrajectories pSpinningReserveReqCountry pSpinningReserveReqSystem
****      $502
**** LINE    266 INPUT       C:\Users\wb590499\Documents\Projects\EPM\epm\main.gms
**** 502  GDXIN  file not open - ignore rest of line
 894  $load pPlanningReserveMargin
****      $502
**** LINE    267 INPUT       C:\Users\wb590499\Documents\Projects\EPM\epm\main.gms
**** 502  GDXIN  file not open - ignore rest of line
 895   
 896  * Load trade data
 897  $load zext, pTransmissionHeader
****      $502
**** LINE    270 INPUT       C:\Users\wb590499\Documents\Projects\EPM\epm\main.gms
**** 502  GDXIN  file not open - ignore rest of line
 898  $load pExtTransferLimit, pNewTransmission, pMinImport
****      $502
**** LINE    271 INPUT       C:\Users\wb590499\Documents\Projects\EPM\epm\main.gms
**** 502  GDXIN  file not open - ignore rest of line
 899  $load pTradePrice, pMaxAnnualExternalTradeShare
****      $502
**** LINE    272 INPUT       C:\Users\wb590499\Documents\Projects\EPM\epm\main.gms
**** 502  GDXIN  file not open - ignore rest of line
 900   
 901  * Load Hydrogen model-related symbols
 902  $load pH2Header, pH2DataExcel pAvailabilityH2 pFuelDataH2 pCAPEXTrajectoryH2 pExternalH2
****      $502
**** LINE    275 INPUT       C:\Users\wb590499\Documents\Projects\EPM\epm\main.gms
**** 502  GDXIN  file not open - ignore rest of line
 903   
 904  * Close the GDX file after loading all required data
 906   
 907  $abort CONNECT ERROR in input_readers.gms
****       $343
**** LINE    280 INPUT       C:\Users\wb590499\Documents\Projects\EPM\epm\main.gms
**** 343  Abort triggered by above statement

**** 18 ERROR(S)   0 WARNING(S)
GAMS 50.1.0  12b75dde Jun 18, 2025          WEX-WEI x86 64bit/MS Windows - 12/17/25 15:04:17 Page 2
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
Include File Summary


   SEQ   GLOBAL TYPE      PARENT   LOCAL  FILENAME

     1        1 INPUT          0       0  C:\Users\wb590499\Documents\Projects\EPM\epm\main.gms
     2       66 CALL           1      66  rm -f cplex.opt
     3       67 CALL           1      67  cp "C:\Users\wb590499\Documents\Projects\EPM\epm\input\data_sapp/cplex/cplex_baseline.opt" cplex.opt
     4      236 INCLUDE        1     246  .C:\Users\wb590499\Documents\Projects\EPM\epm\input_readers.gms


COMPILATION TIME     =        1.953 SECONDS      4 MB  50.1.0 12b75dde WEX-WEI


USER: Medium MUD - 10 User License                   G251002+0003Cc-GEN
      The World Bank, Energy Sector Management Assistance PrograDC12370


**** FILE SUMMARY

Input      C:\Users\wb590499\Documents\Projects\EPM\epm\main.gms
Output     C:\Users\wb590499\Documents\Projects\EPM\epm\output\simulations_run_20251217_150413\baseline\main.lst

**** USER ERROR(S) ENCOUNTERED

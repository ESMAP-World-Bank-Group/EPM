
<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

    <title>Engine Looping Tool &#8212; Energy Planning Model</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "light";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../_static/styles/theme.css?digest=796348d33e8b1d947c94" rel="stylesheet">
<link href="../_static/styles/bootstrap.css?digest=796348d33e8b1d947c94" rel="stylesheet">
<link href="../_static/styles/pydata-sphinx-theme.css?digest=796348d33e8b1d947c94" rel="stylesheet">

  
  <link href="../_static/vendor/fontawesome/6.1.2/css/all.min.css?digest=796348d33e8b1d947c94" rel="stylesheet">
  <link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.1.2/webfonts/fa-solid-900.woff2">
<link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.1.2/webfonts/fa-brands-400.woff2">
<link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.1.2/webfonts/fa-regular-400.woff2">

    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" href="../_static/styles/sphinx-book-theme.css?digest=4ec06e9971c5264fbd345897d5258098f11cc577" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/mystnb.4510f1fc1dee50b3e5859aac5469c37c29e427902b24a333a5f9fcb2f0b3ac41.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="../_static/design-style.4045f2051d55cab465a707391d5b2007.min.css" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../_static/scripts/bootstrap.js?digest=796348d33e8b1d947c94">
<link rel="preload" as="script" href="../_static/scripts/pydata-sphinx-theme.js?digest=796348d33e8b1d947c94">

    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/clipboard.min.js"></script>
    <script src="../_static/copybutton.js"></script>
    <script src="../_static/scripts/sphinx-book-theme.js?digest=8bf782fb4ee92b3d3646425e50f299c4e1fd152d"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="../_static/togglebutton.js"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script src="../_static/design-tabs.js"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"
const thebe_selector = ".thebe,.cell"
const thebe_selector_input = "pre"
const thebe_selector_output = ".output, .cell_output"
</script>
    <script async="async" src="../_static/sphinx-thebe.js"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'docs/launch_multiple_simulation';</script>
    <link rel="canonical" href="https://github.com/ESMAP-World-Bank-Group/EPM/docs/launch_multiple_simulation.html" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Git procedure" href="git_process.html" />
    <link rel="prev" title="Launch on the GAMS Engine remote server" href="run_engine_remote_server.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="docsearch:language" content="en">
  </head>
  
  
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="180" data-default-mode="">

  
  
  <a class="skip-link" href="#main-content">Skip to main content</a>

  
  <input type="checkbox" class="sidebar-toggle" name="__primary" id="__primary">
  <label class="overlay overlay-primary" for="__primary"></label>

  
  <input type="checkbox" class="sidebar-toggle" name="__secondary" id="__secondary">
  <label class="overlay overlay-secondary" for="__secondary"></label>

  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
      
<form class="bd-search d-flex align-items-center" action="../search.html" method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search this book..." aria-label="Search this book..." autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false">
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form>
    </div>
  </div>

  
  <nav class="bd-header navbar navbar-expand-lg bd-navbar" id="navbar-main"><div class="bd-header__inner bd-page-width">
  <label class="sidebar-toggle primary-toggle" for="__primary">
      <span class="fa-solid fa-bars"></span>
  </label>
  <div id="navbar-start">
    
    
  


<a class="navbar-brand logo" href="../home.html">

  
  
  
  
  
  
  

  
    <img src="../_static/esmap.png" class="logo__image only-light" alt="Logo image">
    <img src="../_static/esmap.png" class="logo__image only-dark" alt="Logo image">
  
  
</a>
    
  </div>

  
  <div class="col-lg-9 navbar-header-items">
    <div id="navbar-center" class="mr-auto">
      
      <div class="navbar-center-item">
        <nav class="navbar-nav">
    <p class="sidebar-header-items__title" role="heading" aria-level="1" aria-label="Site Navigation">
        Site Navigation
    </p>
    <ul id="navbar-main-elements" class="navbar-nav">
        
                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="introduction.html">
                        About
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="installation.html">
                        Installation
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="run_epm.html">
                        How to Run EPM
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="run_engine_remote_server.html">
                        Launch on the GAMS Engine remote server
                      </a>
                    </li>
                

                    <li class="nav-item current active">
                      <a class="nav-link nav-internal" href="#">
                        Engine Looping Tool
                      </a>
                    </li>
                
            <div class="nav-item dropdown">
                <button class="btn dropdown-toggle nav-item" type="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                    More
                </button>
                <div class="dropdown-menu">
                    
                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="git_process.html">
                        Git procedure
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="solver_options.html">
                        Solver options
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="postprocessing.html">
                        Postprocessing of the results
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="planning_analysis.html">
                        Example on Guinea CCDR
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="model_overview.html">
                        Mathematical formulation
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="model_description.html">
                        Description of the model
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="model_notations.html">
                        Notations
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="model_formulation.html">
                        Model formulation
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="step_by_step.html">
                        Step-by-step guide
                      </a>
                    </li>
                
                </div>
            </div>
            
    </ul>
</nav>
      </div>
      
    </div>

    <div id="navbar-end">
      
        <div class="navbar-end-item navbar-persistent--container">
          
<button class="btn btn-sm navbar-btn search-button search-button__button" title="Search" aria-label="Search" data-toggle="tooltip">
  <i class="fa-solid fa-magnifying-glass"></i>
</button>
        </div>
      
      
      <div class="navbar-end-item">
        <button class="theme-switch-button btn btn-sm btn-outline-primary navbar-btn rounded-circle" title="light/dark" aria-label="light/dark" data-toggle="tooltip">
    <span class="theme-switch" data-mode="light"><i class="fa-solid fa-sun"></i></span>
    <span class="theme-switch" data-mode="dark"><i class="fa-solid fa-moon"></i></span>
    <span class="theme-switch" data-mode="auto"><i class="fa-solid fa-circle-half-stroke"></i></span>
</button>
      </div>
      
      <div class="navbar-end-item">
        <ul id="navbar-icon-links" class="navbar-nav" aria-label="Icon Links">
      </ul>
      </div>
      
    </div>
  </div>


  
  
    <div class="navbar-persistent--mobile">
<button class="btn btn-sm navbar-btn search-button search-button__button" title="Search" aria-label="Search" data-toggle="tooltip">
  <i class="fa-solid fa-magnifying-glass"></i>
</button>
    </div>
  

  
  <label class="sidebar-toggle secondary-toggle" for="__secondary">
      <span class="fa-solid fa-outdent"></span>
  </label>
  

</div>
  </nav>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      <div class="bd-sidebar-primary bd-sidebar">
        
  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
      <div class="sidebar-header-items__center">
      
      <div class="navbar-center-item">
        <nav class="navbar-nav">
    <p class="sidebar-header-items__title" role="heading" aria-level="1" aria-label="Site Navigation">
        Site Navigation
    </p>
    <ul id="navbar-main-elements" class="navbar-nav">
        
                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="introduction.html">
                        About
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="installation.html">
                        Installation
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="run_epm.html">
                        How to Run EPM
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="run_engine_remote_server.html">
                        Launch on the GAMS Engine remote server
                      </a>
                    </li>
                

                    <li class="nav-item current active">
                      <a class="nav-link nav-internal" href="#">
                        Engine Looping Tool
                      </a>
                    </li>
                
            <div class="nav-item dropdown">
                <button class="btn dropdown-toggle nav-item" type="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                    More
                </button>
                <div class="dropdown-menu">
                    
                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="git_process.html">
                        Git procedure
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="solver_options.html">
                        Solver options
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="postprocessing.html">
                        Postprocessing of the results
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="planning_analysis.html">
                        Example on Guinea CCDR
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="model_overview.html">
                        Mathematical formulation
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="model_description.html">
                        Description of the model
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="model_notations.html">
                        Notations
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="model_formulation.html">
                        Model formulation
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="step_by_step.html">
                        Step-by-step guide
                      </a>
                    </li>
                
                </div>
            </div>
            
    </ul>
</nav>
      </div>
      
      </div>
    

    
    
    <div class="sidebar-header-items__end">
      
      <div class="navbar-end-item">
        <button class="theme-switch-button btn btn-sm btn-outline-primary navbar-btn rounded-circle" title="light/dark" aria-label="light/dark" data-toggle="tooltip">
    <span class="theme-switch" data-mode="light"><i class="fa-solid fa-sun"></i></span>
    <span class="theme-switch" data-mode="dark"><i class="fa-solid fa-moon"></i></span>
    <span class="theme-switch" data-mode="auto"><i class="fa-solid fa-circle-half-stroke"></i></span>
</button>
      </div>
      
      <div class="navbar-end-item">
        <ul id="navbar-icon-links" class="navbar-nav" aria-label="Icon Links">
      </ul>
      </div>
      
    </div>
    
  </div>

  
  <div class="sidebar-start-items sidebar-primary__section">
    <div class="sidebar-start-items__item">
  


<a class="navbar-brand logo" href="../home.html">

  
  
  
  
  
  
  

  
    <img src="../_static/esmap.png" class="logo__image only-light" alt="Logo image">
    <img src="../_static/esmap.png" class="logo__image only-dark" alt="Logo image">
  
  
</a>
    </div>
    <div class="sidebar-start-items__item">
<form class="bd-search d-flex align-items-center" action="../search.html" method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search this book..." aria-label="Search this book..." autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false">
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form>
    </div>
    <div class="sidebar-start-items__item"><nav class="bd-links" id="bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        <p aria-level="2" class="caption" role="heading"><span class="caption-text">Introduction</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="introduction.html">About</a></li>




</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Run EPM</span></p>
<ul class="current nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="run_epm.html">How to Run EPM</a></li>
<li class="toctree-l1"><a class="reference internal" href="run_engine_remote_server.html">Launch on the GAMS Engine remote server</a></li>
<li class="toctree-l1 current active"><a class="current reference internal" href="#">Engine Looping Tool</a></li>
<li class="toctree-l1"><a class="reference internal" href="git_process.html">Git procedure</a></li>
<li class="toctree-l1"><a class="reference internal" href="solver_options.html">Solver options</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Postprocessing</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="postprocessing.html">Postprocessing of the results</a></li>
<li class="toctree-l1"><a class="reference internal" href="planning_analysis.html">Example on Guinea CCDR</a></li>

</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Model Description</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="model_overview.html">Mathematical formulation</a></li>
<li class="toctree-l1"><a class="reference internal" href="model_description.html">Description of the model</a></li>
<li class="toctree-l1"><a class="reference internal" href="model_notations.html">Notations</a></li>

<li class="toctree-l1"><a class="reference internal" href="model_formulation.html">Model formulation</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Step-by-Step Example</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="step_by_step.html">Step-by-step guide</a></li>
</ul>

    </div>
</nav>
    </div>
  </div>
  

  
  <div class="sidebar-end-items sidebar-primary__section">
    <div class="sidebar-end-items__item">
    </div>
  </div>

  
  <div id="rtd-footer-container"></div>

      </div>
      <main id="main-content" class="bd-main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

        <div class="bd-content">
          <div class="bd-article-container">
            
            <div class="bd-header-article">
                



<div class="col py-1 d-flex header-article-main">
    <div class="header-article__left">
        <label class="sidebar-toggle primary-toggle btn btn-sm" for="__primary" data-toggle="tooltip" data-placement="right" title="Toggle primary sidebar">
            <span class="fa-solid fa-bars"></span>
        </label>
    </div>
    <div class="header-article__right">
<button onclick="toggleFullScreen()"
  class="btn btn-sm"
  data-toggle="tooltip"
data-placement="bottom"
title="Fullscreen mode"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>



<div class="dropdown dropdown-repository-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Source repositories">
    <i class="fab fa-github"></i>
  </button>
  <ul class="dropdown-menu">
      <li><a href="https://github.com/ESMAP-World-Bank-Group/EPM" target="_blank"
   class="btn btn-sm dropdown-item"
   data-toggle="tooltip"
data-placement="left"
title="Source repository"
>
  

<span class="btn__icon-container">
  <i class="fab fa-github"></i>
  </span>
<span class="btn__text-container">repository</span>
</a>
</a>
      
      <li><a href="https://github.com/ESMAP-World-Bank-Group/EPM/issues/new?title=Issue%20on%20page%20%2Fdocs/launch_multiple_simulation.html&body=Your%20issue%20content%20here." target="_blank"
   class="btn btn-sm dropdown-item"
   data-toggle="tooltip"
data-placement="left"
title="Open an issue"
>
  

<span class="btn__icon-container">
  <i class="fas fa-lightbulb"></i>
  </span>
<span class="btn__text-container">open issue</span>
</a>
</a>
      
      <li><a href="https://github.com/ESMAP-World-Bank-Group/EPM/edit/main/docs/launch_multiple_simulation.md" target="_blank"
   class="btn btn-sm dropdown-item"
   data-toggle="tooltip"
data-placement="left"
title="Edit this page"
>
  

<span class="btn__icon-container">
  <i class="fas fa-pencil-alt"></i>
  </span>
<span class="btn__text-container">suggest edit</span>
</a>
</a>
      
  </ul>
</div>



<div class="dropdown dropdown-download-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Download this page">
    <i class="fas fa-download"></i>
  </button>
  <ul class="dropdown-menu">
      <li><a href="../_sources/docs/launch_multiple_simulation.md" target="_blank"
   class="btn btn-sm dropdown-item"
   data-toggle="tooltip"
data-placement="left"
title="Download source file"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="btn__text-container">.md</span>
</a>
</a>
      
      <li>
<button onclick="printPdf(this)"
  class="btn btn-sm dropdown-item"
  data-toggle="tooltip"
data-placement="left"
title="Print to PDF"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="btn__text-container">.pdf</span>
</button>
</a>
      
  </ul>
</div>
<label class="sidebar-toggle secondary-toggle btn btn-sm" for="__secondary" data-toggle="tooltip" data-placement="left" title="Toggle secondary sidebar">
            <span class="fa-solid fa-list"></span>
        </label>
    </div>
</div>
            </div>
            
            

<div id="jb-print-docs-body" class="onlyprint">
    <h1>Engine Looping Tool</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Contents </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#disclamer">
   Disclamer
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#introduction">
   Introduction
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#structure-of-the-looping-tool">
   Structure of the Looping Tool
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#files-and-scripts">
     Files and Scripts
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#looping-input-xlsx">
     <code class="docutils literal notranslate">
      <span class="pre">
       Looping_input.xlsx
      </span>
     </code>
    </a>
    <ul class="nav section-nav flex-column">
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#main-tab">
       Main Tab
      </a>
     </li>
    </ul>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#looping-py">
     <code class="docutils literal notranslate">
      <span class="pre">
       Looping.py
      </span>
     </code>
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#running-the-model-locally">
   Running the Model Locally
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#example-local-run">
     Example: Local Run
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#example-restart-files">
     Example: Restart Files
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#sending-files-to-the-engine">
   Sending Files to the Engine
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#function-use-engine">
     Function:
     <code class="docutils literal notranslate">
      <span class="pre">
       use_engine
      </span>
     </code>
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#changing-input-data">
   Changing Input Data
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#emissions-and-text-tabs">
     Emissions and Text Tabs
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#including-inc-files-in-the-model">
     Including
     <code class="docutils literal notranslate">
      <span class="pre">
       .inc
      </span>
     </code>
     Files in the Model
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#notes">
   Notes
  </a>
 </li>
</ul>

            </nav>
        </div>
    </div>
</div>

            <article class="bd-article" role="main">
              
  <section class="tex2jax_ignore mathjax_ignore" id="engine-looping-tool">
<h1>Engine Looping Tool<a class="headerlink" href="#engine-looping-tool" title="Permalink to this heading">#</a></h1>
<p><strong>This code is not maintained anymore. We know suggest to refer to Run with EPM section to run multiple simulations, and
to launch directly the simulations on the Engine.</strong></p>
<hr class="docutils" />
<section id="disclamer">
<h2>Disclamer<a class="headerlink" href="#disclamer" title="Permalink to this heading">#</a></h2>
<ul class="simple">
<li><p>Be careful when launching multiple simulations as it consume large amount of resources</p></li>
<li><p>Please do not use too much threads in the CPLEX option file if you don’t need to or you know others are running the models too</p></li>
</ul>
</section>
<section id="introduction">
<h2>Introduction<a class="headerlink" href="#introduction" title="Permalink to this heading">#</a></h2>
<p>The Engine Looping Tool facilitates running GAMS models efficiently by preparing, executing, and managing input/output files, including support for GAMS Engine. This manual provides step-by-step guidance for using the tool.</p>
<p>Specifically, the tool allows users to:</p>
<ul class="simple">
<li><p>Send simulation to the GAMS Engine: <code class="docutils literal notranslate"><span class="pre">use_engine</span></code> function.</p></li>
<li><p><strong>Sensitivity Analysis</strong>: Generate multiple files for different scenarios by marginally changing one parameter or constraint. Possible actions include:</p>
<ul>
<li><p>Change emission constraint year by year.</p></li>
<li><p>Insert any GAMS command into the model (e.g., add emission constraint, or allowing export).</p></li>
</ul>
</li>
</ul>
</section>
<section id="structure-of-the-looping-tool">
<h2>Structure of the Looping Tool<a class="headerlink" href="#structure-of-the-looping-tool" title="Permalink to this heading">#</a></h2>
<section id="files-and-scripts">
<h3>Files and Scripts<a class="headerlink" href="#files-and-scripts" title="Permalink to this heading">#</a></h3>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">Looping_input.xlsx</span></code>: Dashboard for defining runs, input files, and options.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Looping.py</span></code>: Python script for manipulating files, running models, and managing uploads.</p></li>
<li><p>Model files: Base GAMS model files and additional input Excel files.</p></li>
</ul>
</section>
<section id="looping-input-xlsx">
<h3><code class="docutils literal notranslate"><span class="pre">Looping_input.xlsx</span></code><a class="headerlink" href="#looping-input-xlsx" title="Permalink to this heading">#</a></h3>
<ol class="arabic simple">
<li><p><strong>Main Tab</strong>: necessary tab to run the model, serving a role of a dashboard for the script. In this tab you might define all the parameters regarding the runs, input files, names of the runs and running options.</p></li>
<li><p><strong>Auxiliary Tabs</strong>: All the other tabs serve as auxiliary tabs to change the model parameters and data (without changing the input file). It is possible to add more tabs if specific parameter is often changed (e.g. fuel prices) however then the script need to be slightly modified</p></li>
</ol>
<section id="main-tab">
<h4>Main Tab<a class="headerlink" href="#main-tab" title="Permalink to this heading">#</a></h4>
<p>In the <strong>first table</strong> of the Main tab you define the names of the runs, corresponding input file names and if you want to run the file (option 1). You can define 0 without deleting the entire row. The Run_name will be the name of the separate folder for the run files and the name of the generated <code class="docutils literal notranslate"><span class="pre">.gms</span></code> files.</p>
<p><img alt="" src="../_images/looping_table.png" /></p>
<p>In the <strong>second table</strong> of the Main tab you define the tabs that should be included in the runs. It is not required to select any of the tabs to run the model in the loop or send it to Engine. Using this option requires slight modification in the model main file  (explained at the end of the presentation).</p>
<p>In the <strong>third table</strong> of the Main tab you define how you would like to perform the runs.</p>
<ul class="simple">
<li><p>If RUN_PARALLEL is 1, then the model will run the cases in parallel. Otherwise cases will be run in the sequence in the same batch file.</p></li>
<li><p>If CREATE_RESTART is 0 then the model will run the cases on the local machine (in parallel or in sequence depending on RUN_PARALEL). If this parameter is 1 then the model will not run the model, but only prepare the restart file that might be uploaded to the engine.</p></li>
<li><p>If SEPARATE_FOLDERS is 1 then script will create folder to store the results of each run or the restart files. Otherwise all the runs will be saved in the current folder.</p></li>
</ul>
<p>The <strong>last table</strong> refers to the CPLEX options. Here you might define the options of the solver as you do in the input data file to the model in Settings tab.</p>
</section>
</section>
<section id="looping-py">
<h3><code class="docutils literal notranslate"><span class="pre">Looping.py</span></code><a class="headerlink" href="#looping-py" title="Permalink to this heading">#</a></h3>
<p>Requirements of the script. The following <code class="docutils literal notranslate"><span class="pre">Python</span></code> packages are used: <code class="docutils literal notranslate"><span class="pre">pandas</span></code>, <code class="docutils literal notranslate"><span class="pre">os</span></code>, <code class="docutils literal notranslate"><span class="pre">subprocess</span></code>, <code class="docutils literal notranslate"><span class="pre">time</span></code>, <code class="docutils literal notranslate"><span class="pre">datetime</span></code>, <code class="docutils literal notranslate"><span class="pre">shutil</span></code>, <code class="docutils literal notranslate"><span class="pre">zipfile</span></code>, <code class="docutils literal notranslate"><span class="pre">pkgutil</span></code>.</p>
<p>In order to send the file to the Engine automatically the following APIs needs to be instaled:</p>
<ol class="arabic simple">
<li><p><a class="reference external" href="https://www.gams.com/34/docs/API_PY_TUTORIAL.html">GAMS Python API</a>.</p></li>
<li><p><a class="reference external" href="https://www.gams.com/engine/clients.html">gams_engine</a>. You can also look at the <a class="reference external" href="https://git.gams.com/devel/wb-epm/-/issues/36">issue opened in the GAMS gitlab</a>. You need this one only for the engine purposes.</p></li>
</ol>
</section>
</section>
<hr class="docutils" />
<section id="running-the-model-locally">
<h2>Running the Model Locally<a class="headerlink" href="#running-the-model-locally" title="Permalink to this heading">#</a></h2>
<section id="example-local-run">
<h3>Example: Local Run<a class="headerlink" href="#example-local-run" title="Permalink to this heading">#</a></h3>
<ol class="arabic simple">
<li><p>Define scenarios in the <code class="docutils literal notranslate"><span class="pre">Main</span></code> tab.</p></li>
<li><p>Set <code class="docutils literal notranslate"><span class="pre">RUN_PARALLEL</span> <span class="pre">=</span> <span class="pre">1</span></code> to run cases simultaneously.</p></li>
<li><p>Outputs include scenario-specific <code class="docutils literal notranslate"><span class="pre">.gms</span></code> and result files.</p></li>
</ol>
</section>
<section id="example-restart-files">
<h3>Example: Restart Files<a class="headerlink" href="#example-restart-files" title="Permalink to this heading">#</a></h3>
<ol class="arabic simple">
<li><p>Set <code class="docutils literal notranslate"><span class="pre">CREATE_RESTART</span> <span class="pre">=</span> <span class="pre">1</span></code> to generate <code class="docutils literal notranslate"><span class="pre">.g00</span></code> files for uploading.</p></li>
<li><p>Restart files and <code class="docutils literal notranslate"><span class="pre">.gms</span></code> files are created for Engine submission.</p></li>
</ol>
</section>
</section>
<hr class="docutils" />
<section id="sending-files-to-the-engine">
<h2>Sending Files to the Engine<a class="headerlink" href="#sending-files-to-the-engine" title="Permalink to this heading">#</a></h2>
<section id="function-use-engine">
<h3>Function: <code class="docutils literal notranslate"><span class="pre">use_engine</span></code><a class="headerlink" href="#function-use-engine" title="Permalink to this heading">#</a></h3>
<ul class="simple">
<li><p>Sends <code class="docutils literal notranslate"><span class="pre">.g00</span></code> and <code class="docutils literal notranslate"><span class="pre">.gms</span></code> files to the Engine.</p></li>
<li><p>Requires credentials for Engine API.</p></li>
<li><p>Generates tokens to track runs and import results.</p></li>
</ul>
</section>
</section>
<hr class="docutils" />
<section id="changing-input-data">
<h2>Changing Input Data<a class="headerlink" href="#changing-input-data" title="Permalink to this heading">#</a></h2>
<section id="emissions-and-text-tabs">
<h3>Emissions and Text Tabs<a class="headerlink" href="#emissions-and-text-tabs" title="Permalink to this heading">#</a></h3>
<ol class="arabic simple">
<li><p>Insert emission limits and additional GAMS commands into the respective tabs.</p></li>
<li><p>Generates <code class="docutils literal notranslate"><span class="pre">.inc</span></code> files to include in the model.</p></li>
</ol>
</section>
<section id="including-inc-files-in-the-model">
<h3>Including <code class="docutils literal notranslate"><span class="pre">.inc</span></code> Files in the Model<a class="headerlink" href="#including-inc-files-in-the-model" title="Permalink to this heading">#</a></h3>
<p>Add the following lines to the model’s main file:</p>
<div class="highlight-gams notranslate"><div class="highlight"><pre><span></span>$offIDCProtect
$if set INC_NUM $include inc_file%INC_NUM%.inc
$onIDCProtect
</pre></div>
</div>
<hr class="docutils" />
</section>
</section>
<hr class="docutils" />
<section id="notes">
<h2>Notes<a class="headerlink" href="#notes" title="Permalink to this heading">#</a></h2>
<ul class="simple">
<li><p>Ensure proper API and library installations before running the script.</p></li>
<li><p>Always verify <code class="docutils literal notranslate"><span class="pre">.g00</span></code> and <code class="docutils literal notranslate"><span class="pre">.gms</span></code> file preparation before uploading to the Engine.</p></li>
</ul>
</section>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            name: "python3",
            path: "./docs"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

            </article>
            

            
            
            <footer class="bd-footer-article">
                <!-- Previous / next buttons -->
<div class='prev-next-area'>
  <a class='left-prev' id="prev-link" href="run_engine_remote_server.html" title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
          <p class="prev-next-subtitle">previous</p>
          <p class="prev-next-title">Launch on the GAMS Engine remote server</p>
      </div>
  </a>
  <a class='right-next' id="next-link" href="git_process.html" title="next page">
  <div class="prev-next-info">
      <p class="prev-next-subtitle">next</p>
      <p class="prev-next-title">Git procedure</p>
  </div>
  <i class="fa-solid fa-angle-right"></i>
  </a>
</div>
            </footer>
            
          </div>
          
          
          
            <div class="bd-sidebar-secondary bd-toc">
              
<div class="toc-item">
  
<div class="tocsection onthispage">
    <i class="fa-solid fa-list"></i> On this page
</div>
<nav id="bd-toc-nav" class="page-toc">
    <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#disclamer">
   Disclamer
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#introduction">
   Introduction
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#structure-of-the-looping-tool">
   Structure of the Looping Tool
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#files-and-scripts">
     Files and Scripts
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#looping-input-xlsx">
     <code class="docutils literal notranslate">
      <span class="pre">
       Looping_input.xlsx
      </span>
     </code>
    </a>
    <ul class="nav section-nav flex-column">
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#main-tab">
       Main Tab
      </a>
     </li>
    </ul>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#looping-py">
     <code class="docutils literal notranslate">
      <span class="pre">
       Looping.py
      </span>
     </code>
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#running-the-model-locally">
   Running the Model Locally
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#example-local-run">
     Example: Local Run
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#example-restart-files">
     Example: Restart Files
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#sending-files-to-the-engine">
   Sending Files to the Engine
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#function-use-engine">
     Function:
     <code class="docutils literal notranslate">
      <span class="pre">
       use_engine
      </span>
     </code>
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#changing-input-data">
   Changing Input Data
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#emissions-and-text-tabs">
     Emissions and Text Tabs
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#including-inc-files-in-the-model">
     Including
     <code class="docutils literal notranslate">
      <span class="pre">
       .inc
      </span>
     </code>
     Files in the Model
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#notes">
   Notes
  </a>
 </li>
</ul>

</nav>
</div>

            </div>
          
          
        </div>
        <footer class="bd-footer-content">
          <div class="bd-footer-content__inner">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
By XX (ESMAP)
</p>

  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    <p class="last-updated">
Last updated on Jan 08, 2025.<br>
</p>
  </div>
  
  <div class="footer-item">
    
<div class="extra_footer">
  <div>Cite as: <i>"XX (ESMAP) - EPM. Available at https://github.com/ESMAP-World-Bank-Group/EPM"</i><br>
    <b>All content (unless otherwise specified) is subject to the <a href="https://raw.githubusercontent.com/worldbank/template/main/LICENSE">World Bank Master Community License Agreement.</a></b>
</div>

</div>
  </div>
  
</div>
          </div>
        </footer>
        

      </main>
    </div>
  </div>

  
    
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../_static/scripts/bootstrap.js?digest=796348d33e8b1d947c94"></script>
<script src="../_static/scripts/pydata-sphinx-theme.js?digest=796348d33e8b1d947c94"></script>

  </body>
</html>